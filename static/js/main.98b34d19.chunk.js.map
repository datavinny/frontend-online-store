{"version":3,"sources":["services/api.js","components/Category.jsx","services/addToCart.js","components/ProdutosCard.jsx","components/SearchBar.jsx","pages/Home.jsx","components/CartItems.jsx","pages/Carrinho.jsx","components/Evaluations.jsx","components/FormReview.jsx","pages/Details.jsx","App.js","index.js"],"names":["getCategories","a","fetch","response","json","data","Category","this","props","name","id","searchFunction","selectedCat","htmlFor","type","value","data-testid","onChange","checked","React","Component","addToCart","product","products","JSON","parse","localStorage","getItem","newProduct","title","setItem","stringify","ProdutosCard","addToCartFunc","produto","item","xablau","price","thumbnail","src","alt","to","pathname","state","onClick","SearchBar","searchValue","arrProdutos","pegaValorDaPesquisa","pesquisar","map","key","Home","target","setState","categories","api","handleClick","results","handleChange","obj","CartItems","modifyQuantity","quantity","prevState","Carrinho","prodList","forEach","length","i","Evaluations","evaluations","storage","rateStorage","email","rate","comment","FormReview","componentDidMount","getRatings","isRate","filter","saveRating","event","preventDefault","newRating","ratings","placeholder","number","cols","rows","maxLength","Details","getInfo","match","params","App","exact","path","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.98b34d19.chunk.js","sourcesContent":["export async function getCategories() {\n  // Implemente aqui\n  const response = await fetch('https://api.mercadolibre.com/sites/MLB/categories');\n  const data = await response.json();\n  return data;\n}\n\nexport async function getProductsFromCategoryAndQuery(categoryId, query) {\n  // Implemente aqui! Quando o fizer, descomente os parâmetros que essa função recebe\n  const response = await fetch(`https://api.mercadolibre.com/sites/MLB/search?category=${categoryId}_ID&q=${query}`);\n  const data = await response.json();\n  return data;\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nclass Category extends React.Component {\n  render() {\n    const { name, id, searchFunction, selectedCat } = this.props;\n    return (\n      <label htmlFor={ id }>\n        { name }\n        <input\n          type=\"radio\"\n          id={ id }\n          value={ id }\n          data-testid=\"category\"\n          onChange={ searchFunction }\n          name=\"category\"\n          checked={ id === selectedCat }\n        />\n      </label>\n    );\n  }\n}\n\nCategory.propTypes = {\n  category: PropTypes.shape({ name: PropTypes.string, id: PropTypes.string }),\n  radioChecked: PropTypes.bool,\n}.isRequired;\n\nexport default Category;\n","export default function addToCart(product) {\n  let products = JSON.parse(localStorage.getItem('cartItems') || '[]');\n  const newProduct = { product, title: product.title };\n  products = [...products, newProduct];\n  localStorage.setItem('cartItems', JSON.stringify(products));\n}\n","import React, { Component } from 'react';\nimport propTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport addToCart from '../services/addToCart';\n\nclass ProdutosCard extends Component {\n  addToCartFunc = async () => {\n    const { produto } = this.props;\n    addToCart(produto);\n  }\n\n  render() {\n    const { item, produto } = this.props;\n    const xablau = `/details/${item}`;\n    const { title, price, thumbnail, id } = produto;\n    return (\n      <div data-testid=\"product\">\n        <p>{ produto.title }</p>\n        <img src={ produto.thumbnail } alt=\"\" />\n        <Link\n          data-testid=\"product-detail-link\"\n          to={ {\n            pathname: xablau,\n            state: {\n              item,\n              title,\n              price,\n              thumbnail,\n            },\n          } }\n        >\n          Detalhes\n        </Link>\n        <button\n          type=\"button\"\n          id={ id }\n          data-testid=\"product-add-to-cart\"\n          onClick={ this.addToCartFunc }\n        >\n          Adicionar ao carrinho\n        </button>\n      </div>\n    );\n  }\n}\n\nProdutosCard.propTypes = {\n  item: propTypes.string,\n}.isRequired;\n\nexport default ProdutosCard;\n","import React, { Component } from 'react';\nimport propTypes from 'prop-types';\nimport ProdutosCard from './ProdutosCard';\n\nclass SearchBar extends Component {\n  render() {\n    const { searchValue, arrProdutos, pegaValorDaPesquisa, pesquisar } = this.props;\n    return (\n      <div>\n        <label htmlFor=\"searchValue\">\n          <input\n            name=\"searchValue\"\n            type=\"text\"\n            value={ searchValue }\n            onChange={ pegaValorDaPesquisa }\n            data-testid=\"query-input\"\n          />\n        </label>\n        <button\n          type=\"button\"\n          onClick={ pesquisar }\n          data-testid=\"query-button\"\n        >\n          Pesquisar\n        </button>\n        <div>\n          {arrProdutos.map((item) => (\n            <ProdutosCard\n              item={ item.id }\n              key={ item.id }\n              produto={ item }\n            />\n          ))}\n        </div>\n      </div>\n    );\n  }\n}\n\nSearchBar.propTypes = {\n  categories: propTypes.string,\n}.isRequired;\n\nexport default SearchBar;\n","import React from 'react';\nimport * as api from '../services/api';\nimport Category from '../components/Category';\nimport SearchBar from '../components/SearchBar';\n\nclass Home extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      categories: [],\n      searchValue: '',\n      arrProdutos: [],\n      selectedCat: '',\n    };\n  }\n\n  componentDidMount() {\n    this.categories();\n  }\n\n  pegaValorDaPesquisa = ({ target: { name, value } }) => {\n    this.setState({ [name]: value });\n  }\n\n  categories = async () => {\n    this.setState({ categories: await api.getCategories() });\n  }\n\n  handleClick = async () => {\n    const { selectedCat } = this.state;\n    const response = await fetch(`https://api.mercadolibre.com/sites/MLB/search?category=${selectedCat}`);\n    const { results } = await response.json();\n    this.setState({ arrProdutos: results });\n  }\n\n  handleChange = ({ target: { value } }) => {\n    this.setState({\n      selectedCat: value,\n    }, () => { this.handleClick(); });\n  }\n\n  render() {\n    const {\n      categories,\n      searchValue,\n      arrProdutos,\n      selectedCat } = this.state;\n    return (\n      <div>\n        <p data-testid=\"home-initial-message\">\n          Digite algum termo de pesquisa ou escolha uma categoria.\n        </p>\n        <SearchBar\n          searchValue={ searchValue }\n          arrProdutos={ arrProdutos }\n          pegaValorDaPesquisa={ this.pegaValorDaPesquisa }\n          pesquisar={ this.handleClick }\n        />\n        <section>\n          { categories.map((obj) => (\n            <Category\n              key={ obj.id }\n              id={ obj.id }\n              name={ obj.name }\n              selectedCat={ selectedCat }\n              searchFunction={ this.handleChange }\n            />)) }\n        </section>\n      </div>\n    );\n  }\n}\n\nexport default Home;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nclass CartItems extends Component {\n  constructor(props) {\n    super(props);\n    const { product } = this.props;\n    this.state = {\n      product,\n      quantity: 1,\n    };\n  }\n\n  modifyQuantity = ({ target: { name } }) => {\n    const { quantity } = this.state;\n    if (name === 'decrease') {\n      if (quantity === 1) return;\n      this.setState((prevState) => ({\n        quantity: prevState.quantity - 1,\n      }));\n    }\n\n    if (name === 'increase') {\n      this.setState((prevState) => ({\n        quantity: prevState.quantity + 1,\n      }));\n    }\n  }\n\n  render() {\n    const { product, quantity } = this.state;\n    return (\n      <div>\n        { !product\n          ? (<p data-testid=\"shopping-cart-empty-message\">Seu carrinho está vazio</p>)\n          : (\n            <div>\n              <p\n                data-testid=\"shopping-cart-product-name\"\n              >\n                {product.title}\n              </p>\n              <p\n                data-testid=\"shopping-cart-product-quantity\"\n              >\n                { quantity }\n              </p>\n              <button\n                data-testid=\"product-increase-quantity\"\n                name=\"increase\"\n                id={ product.id }\n                onClick={ this.modifyQuantity }\n                type=\"submit\"\n              >\n                +\n              </button>\n              <button\n                data-testid=\"product-decrease-quantity\"\n                name=\"decrease\"\n                id={ product.id }\n                onClick={ this.modifyQuantity }\n                type=\"submit\"\n              >\n                -\n              </button>\n            </div>\n          )}\n      </div>\n    );\n  }\n}\n\nCartItems.propTypes = {\n  product: PropTypes.shape({\n    quantity: PropTypes.number,\n  }).isRequired,\n};\n\nexport default CartItems;\n","import React from 'react';\nimport CartItems from '../components/CartItems';\n\nclass Carrinho extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      products: [],\n    };\n  }\n\n  componentDidMount() {\n    this.prodList();\n  }\n\n  prodList = async () => {\n    const products = JSON.parse(localStorage.getItem('cartItems')) || [];\n    products.forEach((item) => {\n      this.setState((prevState) => ({\n        products: [...prevState.products, item],\n      }));\n    });\n  }\n\n  render() {\n    const { products } = this.state;\n    return (\n      (products.length === 0)\n        ? <p data-testid=\"shopping-cart-empty-message\">Seu carrinho está vazio</p>\n        : (\n          <div>\n            { products.map((product, i) => (\n              <CartItems key={ i } product={ product } />\n            ))}\n          </div>\n        ));\n  }\n}\n\nexport default Carrinho;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nclass Evaluations extends Component {\n  render() {\n    const { evaluations } = this.props;\n\n    return (\n      <div>\n        {evaluations.map((storage, i) => (\n          <div key={ i }>\n            <p>{`${storage.rateStorage.email}`}</p>\n            <p>{storage.rateStorage.rate}</p>\n            <p>{storage.rateStorage.comment}</p>\n          </div>\n        ))}\n      </div>\n    );\n  }\n}\n\nEvaluations.propTypes = {\n  evaluations: PropTypes.arrayOf(Number).isRequired,\n};\n\nexport default Evaluations;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Evaluations from './Evaluations';\n\nclass FormReview extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      email: '',\n      rate: 0,\n      comment: '',\n      evaluations: [],\n    };\n  }\n\n  componentDidMount = () => {\n    this.getRatings();\n  }\n\n  handleChange = ({ target }) => {\n    const { name, value } = target;\n    this.setState({ [name]: value });\n  }\n\n  getRatings = () => {\n    const { id } = this.props;\n    const ratings = JSON.parse(localStorage.getItem('evaluations') || '[]');\n    const isRate = ratings.filter((storage) => storage.id === id);\n    this.setState({ evaluations: isRate });\n  }\n\n  saveRating = (event) => {\n    event.preventDefault();\n    const { id } = this.props;\n    const { email, rate, comment } = this.state;\n    const newRating = { id, rateStorage: { email, rate, comment } };\n    let ratings = JSON.parse(localStorage.getItem('evaluations') || '[]');\n    ratings = [...ratings, newRating];\n    localStorage.setItem('evaluations', JSON.stringify(ratings));\n  }\n\n  render() {\n    const { email, rate, comment, evaluations } = this.state;\n    return (\n      <div>\n        <form>\n          <label htmlFor=\"email\">\n            Email:\n            <input\n              data-testid=\"product-detail-email\"\n              id=\"email\"\n              name=\"email\"\n              type=\"email\"\n              value={ email }\n              placeholder=\"E-mail\"\n              onChange={ this.handleChange }\n            />\n          </label>\n          <label htmlFor=\"rate\">\n            { ['1', '2', '3', '4', '5']\n              .map((number) => (<input\n                key={ number }\n                data-testid={ `${number}-rating` }\n                name=\"rate\"\n                type=\"checkbox\"\n                value={ number }\n                checked={ rate >= number }\n                onChange={ this.handleChange }\n              />))}\n          </label>\n          <label htmlFor=\"comment\">\n            Avalie o produto:\n            <textarea\n              data-testid=\"product-detail-evaluation\"\n              name=\"comment\"\n              id=\"comment\"\n              value={ comment }\n              placeholder=\"Deixe seu comentário...\"\n              onChange={ this.handleChange }\n              cols=\"20\"\n              rows=\"10\"\n              maxLength=\"30\"\n            />\n          </label>\n          <button\n            type=\"submit\"\n            data-testid=\"submit-review-btn\"\n            onClick={ this.saveRating }\n          >\n            Avaliar\n          </button>\n        </form>\n        { evaluations\n          && (\n            <div>\n              <p>{email}</p>\n              <p>{rate}</p>\n            </div>\n          )}\n        <Evaluations evaluations={ evaluations } />\n\n      </div>\n    );\n  }\n}\n\nFormReview.propTypes = {\n  id: PropTypes.string.isRequired,\n};\n\nexport default FormReview;\n","import React from 'react';\nimport propTypes from 'prop-types';\nimport addToCart from '../services/addToCart';\nimport FormReview from '../components/FormReview';\n\nclass Details extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      title: '',\n      price: '',\n      thumbnail: '',\n      products: [],\n    };\n  }\n\n  componentDidMount() {\n    this.getInfo();\n  }\n\n  getInfo = async () => {\n    const { match: { params: { id } } } = this.props;\n    const response = await fetch(`https://api.mercadolibre.com/items/${id}`);\n    const item = await response.json();\n    this.setState({\n      title: item.title,\n      price: item.price,\n      thumbnail: item.thumbnail,\n      products: item,\n    });\n  }\n\n  addToCartFunc = async () => {\n    const { products } = this.state;\n    addToCart(products);\n  }\n\n  render() {\n    const { title, price, thumbnail } = this.state;\n    const { match: { params: { id } } } = this.props;\n    return (\n      <div>\n        <div data-testid=\"product-detail-name\">\n          <h1>{ title }</h1>\n          <p>{ price }</p>\n          <img src={ thumbnail } alt={ title } />\n        </div>\n        <button\n          type=\"button\"\n          id={ id }\n          data-testid=\"product-detail-add-to-cart\"\n          onClick={ this.addToCartFunc }\n        >\n          Adicionar ao carrinho\n        </button>\n        <FormReview id={ id } />\n      </div>\n    );\n  }\n}\n\nDetails.propTypes = {\n  arrProdutos: propTypes.shape({\n    id: propTypes.string,\n    title: propTypes.string,\n    price: propTypes.string,\n    thumbnail: propTypes.string,\n  }),\n}.isrequired;\n\nexport default Details;\n","import React from 'react';\nimport './App.css';\nimport { BrowserRouter as Router, Route, Switch, Link } from 'react-router-dom';\nimport Home from './pages/Home';\nimport Carrinho from './pages/Carrinho';\nimport Details from './pages/Details';\n\nfunction App() {\n  return (\n    <Router>\n      <Link to=\"/carrinho\" data-testid=\"shopping-cart-button\">Carrinho</Link>\n      <Switch>\n        <Route exact path=\"/\" component={ Home } />\n        <Route exact path=\"/carrinho\" component={ Carrinho } />\n        <Route exact path=\"/details/:id\" component={ Details } />\n      </Switch>\n    </Router>\n  );\n}\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n"],"sourceRoot":""}